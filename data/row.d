A: 1, 2, 3.
L: [111], [112], [113], [11], [121], [122], [123], [12], [131], [132],
   [133], [13], [1], [211], [212], [213], [21], [221], [222], [223],
   [22], [231], [232], [233], [23], [2], [311], [312], [313], [31],
   [321], [322], [323], [32], [331], [332], [333], [33], [3], *[].
   
*components(L,A,L) #--/-##
[1],1,[]
[2],2,[]
[3],3,[]
[11],1,[1]
[12],1,[2]
[13],1,[3]
[21],2,[1]
[22],2,[2]
[23],2,[3]
[31],3,[1]
[32],3,[2]
[33],3,[3]
[111],1,[11]
[112],1,[12]
[113],1,[13]
[121],1,[21]
[122],1,[22]
[123],1,[23]
[131],1,[31]
[132],1,[32]
[133],1,[33]
[211],2,[11]
[212],2,[12]
[213],2,[13]
[221],2,[21]
[222],2,[22]
[223],2,[23]
[231],2,[31]
[232],2,[32]
[233],2,[33]
[311],3,[11]
[312],3,[12]
[313],3,[13]
[321],3,[21]
[322],3,[22]
[323],3,[23]
[331],3,[31]
[332],3,[32]
[333],3,[33]
.
rows(L,L,L) 
[121],[212],[333]
[121],[232],[313]
[131],[212],[323]
[131],[322],[213]
[123],[312],[231]
[113],[321],[232]
[1],[2],[3]
[21],[12],[33]
[121],[212],[333]
;
[123],[132],[321]
.

rows
[121],[212],[333]: +
[123],[132],[321]: -
[1],[2],[3]: +
[121],[212],[232]: -
.